---
title: hydrateRoot
---

<Intro>

`hydrateRoot` ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶æ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ DOM ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∏‡ßá‡¶á React ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡ßÅ‡¶Ø‡ßã‡¶ó ‡¶¶‡ßá‡ßü, ‡¶Ø‡¶æ [`react-dom/server`](/reference/react-dom/server) ‡¶Ü‡¶ó‡ßá ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá ‡¶∞‡ßá‡¶ñ‡¶õ‡ßá‡•§ 

```js
const root = hydrateRoot(domNode, reactNode, options?)
```

</Intro>

<InlineToc />

---

## Reference {/*reference*/}

### `hydrateRoot(domNode, reactNode, options?)` {/*hydrateroot*/}

‡¶è‡¶ï‡¶ü‡¶æ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶è‡¶®‡¶≠‡¶æ‡ßü‡¶∞‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá React ‡¶è‡¶∞ ‡¶á‡¶§‡ßã‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ HTML ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá React "‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§" ‡¶ï‡¶∞‡¶§‡ßá `hydrateRoot` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§

```js
import { hydrateRoot } from 'react-dom/client';

const domNode = document.getElementById('root');
const root = hydrateRoot(domNode, reactNode);
```

`domNode` ‡¶è‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶æ HTML ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá React ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá, ‡¶è‡¶¨‡¶Ç ‡¶è‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶æ DOM ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ‡¶∞ ‡¶¶‡¶æ‡ßü‡¶ø‡¶§‡ßç‡¶¨ ‡¶®‡¶ø‡ßü‡ßá ‡¶®‡¶ø‡¶¨‡ßá‡•§ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™‡ßá React ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡¶è‡¶∞ ‡¶∞‡ßÅ‡¶ü ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ `hydrateRoot` ‡¶ï‡¶≤ ‡¶•‡¶æ‡¶ï‡ßá‡•§

[‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶∞‡ßã ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®](#usage)

#### ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ {/*parameters*/}

* `domNode`: ‡¶è‡¶ï‡¶ü‡¶æ [DOM ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü](https://developer.mozilla.org/en-US/docs/Web/API/Element) ‡¶Ø‡¶æ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶∞‡ßÅ‡¶ü ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶π‡ßü‡ßá‡¶õ‡¶ø‡¶≤‡•§

* `reactNode`: ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® HTML ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ø‡ßá "React ‡¶®‡ßã‡¶°" ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡ßÉ‡¶§ ‡¶π‡ßü‡•§ ‡¶è‡¶ü‡¶æ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ `<App />` ‡¶è‡¶∞ ‡¶Æ‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø JSX ‡¶è‡¶∞ ‡¶Ö‡¶Ç‡¶∂ ‡¶π‡ßü, ‡¶Ø‡¶æ `renderToPipeableStream(<App />)` ‡¶è‡¶∞ ‡¶Æ‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø `ReactDOM Server` ‡¶Æ‡ßá‡¶•‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ 

* **optional** `options`: ‡¶è‡¶á React root ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® option ‡¶∏‡¶Ç‡¶¨‡¶≤‡¶ø‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü‡•§

<<<<<<< HEAD
  * **optional** `onRecoverableError`: ‡¶Ø‡¶ñ‡¶® React ‡¶∏‡ßç‡¶¨‡ßü‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡ßü ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡ßã‡¶® error ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶ø‡¶ú‡ßá‡¶ï‡ßá recover ‡¶ï‡¶∞‡ßá ‡¶§‡¶ñ‡¶® ‡¶π‡¶ì‡ßü‡¶æ ‡¶ï‡¶≤‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡•§
  * **optional** `identifierPrefix`: [`useId`](/reference/react/useId) ‡¶¶‡¶ø‡ßü‡ßá ‡¶§‡ßà‡¶∞‡ßÄ ‡¶π‡¶ì‡ßü‡¶æ ID ‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø React ‡¶Ø‡ßá string prefix ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡•§ ‡¶è‡¶ï‡¶á ‡¶™‡ßá‡¶á‡¶ú‡ßá ‡¶Ø‡¶ñ‡¶® ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï rot ‡¶•‡¶æ‡¶ï‡ßá ‡¶§‡¶ñ‡¶® conflict ‡¶è‡ßú‡¶æ‡¶§‡ßá ‡¶è‡¶ü‡¶æ ‡¶ï‡¶æ‡¶ú‡ßá ‡¶≤‡¶æ‡¶ó‡ßá‡•§
=======
  * **optional** `onCaughtError`: Callback called when React catches an error in an Error Boundary. Called with the `error` caught by the Error Boundary, and an `errorInfo` object containing the `componentStack`.
  * **optional** `onUncaughtError`: Callback called when an error is thrown and not caught by an Error Boundary. Called with the `error` that was thrown and an `errorInfo` object containing the `componentStack`.
  * **optional** `onRecoverableError`: Callback called when React automatically recovers from errors. Called with the `error` React throws, and an `errorInfo` object containing the `componentStack`. Some recoverable errors may include the original error cause as `error.cause`.
  * **optional** `identifierPrefix`: A string prefix React uses for IDs generated by [`useId`.](/reference/react/useId) Useful to avoid conflicts when using multiple roots on the same page. Must be the same prefix as used on the server.
>>>>>>> 6fc98fffdaad3b84e6093d1eb8def8f2cedeee16


#### ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® {/*returns*/}

`hydrateRoot` ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶Æ‡ßá‡¶•‡¶°‡¶∏‡¶π ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶¨‡ßç‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡ßá‡¶É [`render`](#root-render) ‡¶è‡¶¨‡¶Ç [`unmount`.](#root-unmount)

#### ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ {/*caveats*/}

* `hydrateRoot()` ‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶æ‡¶∂‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ø‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶π‡¶ì‡ßü‡¶æ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶π‡¶ì‡ßü‡¶æ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶π‡ßÅ‡¶¨‡¶π‡ßÅ ‡¶Æ‡¶ø‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶Ö‡¶Æ‡¶ø‡¶≤ ‡¶™‡¶æ‡¶®, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶∏‡ßá‡¶ü‡¶æ‡¶ï‡ßá ‡¶¨‡¶æ‡¶ó ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ß‡¶∞‡ßá ‡¶®‡¶ø‡ßü‡ßá ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®‡•§ 
* ‡ßç‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßã‡¶°‡ßá ‡¶•‡¶æ‡¶ï‡¶æ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡ßü, hydration ‡¶ö‡¶≤‡¶æ‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® React ‡¶Ö‡¶Æ‡¶ø‡¶≤‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∑‡ßü‡ßá ‡¶∏‡¶§‡¶∞‡ßç‡¶ï ‡¶ï‡¶∞‡ßá‡•§ ‡¶è‡¶Æ‡¶® ‡¶ï‡ßã‡¶® ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡ßü‡¶§‡¶æ ‡¶®‡¶æ‡¶á ‡¶Ø‡ßá ‡¶Ö‡¶Æ‡¶ø‡¶≤‡ßá‡¶∞ ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá ‡¶è‡¶ü‡ßç‡¶∞‡¶ø‡¶¨‡¶ø‡¶â‡¶ü‡ßá‡¶∞ ‡¶≠‡¶ø‡¶®‡ßç‡¶®‡¶§‡¶æ patch up ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§ ‡¶è‡¶ü‡¶æ ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶†‡¶ø‡¶ï ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶ú‡¶∞‡ßÅ‡¶∞‡ßÄ‡•§ ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶¨‡ßá‡¶∂‡¶ø‡¶∞‡¶≠‡¶æ‡¶ó ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá, ‡¶Ö‡¶Æ‡¶ø‡¶≤ ‡¶•‡¶æ‡¶ï‡ßá‡¶á ‡¶®‡¶æ ‡¶¨‡¶≤‡¶æ ‡¶Ø‡¶æ‡ßü, ‡¶§‡¶æ‡¶á ‡¶∏‡¶¨ markup ‡¶†‡¶ø‡¶ï‡¶†‡¶æ‡¶ï ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø ‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶ñ‡ßÅ‡¶¨ ‡¶ï‡¶∑‡ßç‡¶ü‡¶∏‡¶æ‡¶ß‡ßç‡¶Ø ‡¶π‡ßü‡•§
* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶ñ‡ßÅ‡¶¨ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨‡¶§‡¶É ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ `hydrateRoot` ‡¶ï‡¶≤ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡¶¶‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶´‡ßç‡¶∞‡ßá‡¶Æ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡¶®, ‡¶∏‡ßá‡¶ü‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶≤‡¶ü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§
* ‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶°‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶á‡¶§‡ßã‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶ï‡ßã‡¶® HTML ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶®‡ßá‡¶á, ‡¶∏‡ßá‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá `hydrateRoot()` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ‡•§ ‡¶¨‡¶∞‡¶Ç [`createRoot()`](/reference/react-dom/client/createRoot) ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§

---

### `root.render(reactNode)` {/*root-render*/}

‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ DOM ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø hydrated React ‡¶∞‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø React ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá `root.render` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§

```js
root.render(<App />);
```

React hydrated `root` ‡¶è‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶æ `<App />` ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá‡•§

[‡¶®‡¶ø‡¶ö‡ßá ‡¶Ü‡¶∞‡ßã ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®](#usage)

#### ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ {/*root-render-parameters*/}

* `reactNode`: ‡¶è‡¶ü‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶è‡¶Æ‡¶® ‡¶è‡¶ï‡¶ü‡¶ø "React ‡¶®‡ßã‡¶°" ‡¶Ø‡¶æ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®‡•§ ‡¶è‡¶ü‡¶æ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ `<App />` ‡¶è‡¶∞ ‡¶Æ‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø JSX ‡¶è‡¶∞ ‡¶Ö‡¶Ç‡¶∂ ‡¶π‡ßü‡ßá ‡¶•‡¶æ‡¶ï‡ßá, ‡¶§‡¶¨‡ßá ‡¶Ü‡¶™‡¶®‡¶ø [`createElement()`](/reference/react/createElement) ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶è‡¶ï‡¶ü‡¶ø React ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü, ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Ç, ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ, `null` ‡¶¨‡¶æ `undefined` ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§


#### ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® {/*root-render-returns*/}

`root.render` `undefined` ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡ßá‡•§

#### ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ {/*root-render-caveats*/}

* ‡¶∞‡ßÅ‡¶ü‡ßá‡¶∞ hydrating ‡¶∂‡ßá‡¶∑ ‡¶π‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡¶¶‡¶ø  `root.render` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßá‡¶®, ‡¶§‡¶æ‡¶π‡¶≤‡ßá React ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞-‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° HTML ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∞‡ßÅ‡¶ü‡¶ü‡¶æ‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶§‡ßà‡¶∞‡ßÄ ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡¶¨‡ßá‡•§

---

### `root.unmount()` {/*root-unmount*/}

‡¶è‡¶ï‡¶ü‡¶ø React ‡¶∞‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶π‡¶ì‡ßü‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ü‡ßç‡¶∞‡¶ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá `root.unmount` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§

```js
root.unmount();
```

‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™‡ßá React ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ `root.unmount` ‡¶è ‡¶ï‡ßã‡¶® ‡¶ï‡¶≤ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‡¶®‡¶æ‡•§

‡¶è‡¶ü‡¶æ ‡¶§‡¶ñ‡¶® ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶ï‡¶æ‡¶ú‡ßá ‡¶≤‡¶æ‡¶ó‡ßá ‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ React ‡¶∞‡ßÅ‡¶ü‡ßá‡¶∞ DOM ‡¶®‡ßã‡¶° (‡¶¨‡¶æ ‡¶è‡¶∞ ‡¶ï‡ßã‡¶® ancestor) ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶® ‡¶ï‡ßã‡¶°‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá DOM ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡ßü‡•§ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£‡¶∏‡ßç‡¶¨‡¶∞‡ßÇ‡¶™, ‡¶ß‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶æ jQuery ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶Ü‡¶õ‡ßá ‡¶Ø‡¶æ DOM ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡¶ö‡¶≤ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßá‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶è‡¶ï‡¶ü‡¶æ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡ßü ‡¶§‡¶¨‡ßá ‡¶è‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞ ‡¶•‡¶æ‡¶ï‡¶æ ‡¶∏‡¶¨ ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ì (‡¶≠‡¶ø‡¶§‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶æ React ‡¶∞‡ßÅ‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∏‡¶π) DOM ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§ ‡¶∏‡ßá‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá, `root.unmount` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ React ‡¶ï‡ßá ‡¶¨‡¶≤‡¶§‡ßá ‡¶π‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶ì‡ßü‡¶æ ‡¶∞‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡¶æ "‡¶¨‡¶®‡ßç‡¶ß" ‡¶ï‡¶∞‡¶§‡ßá‡•§ ‡¶®‡¶æ ‡¶π‡¶≤‡ßá, ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶ì‡ßü‡¶æ ‡¶∞‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®‡ßá‡¶∞ ‡¶Æ‡¶§ global resource ‡¶Æ‡ßÅ‡¶õ‡¶¨‡ßá ‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶ó‡ßÅ‡¶≤‡ßã ‡¶´‡ßç‡¶∞‡¶ø ‡¶π‡¶¨‡ßá ‡¶®‡¶æ‡•§ 

`root.unmount` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∞‡ßÅ‡¶ü‡ßá‡¶∞ ‡¶∏‡¶¨ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶®‡¶Æ‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶π‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∞‡ßÅ‡¶ü DOM ‡¶®‡ßã‡¶° ‡¶•‡ßá‡¶ï‡ßá React "detach" ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§ ‡¶è‡¶ï‡¶á ‡¶∏‡¶æ‡¶•‡ßá ‡¶ü‡ßç‡¶∞‡¶ø‡¶§‡ßá ‡¶ï‡ßã‡¶® ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ ‡¶¨‡¶æ ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶∏‡ßá‡¶ü‡¶æ‡¶ì ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§ 


#### ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ {/*root-unmount-parameters*/}

`root.unmount` does not accept any parameters.


#### ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® {/*root-unmount-returns*/}

`root.unmount` `undefined`  ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡ßá‡•§

#### ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ {/*root-unmount-caveats*/}

* `root.unmount` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶ü‡ßç‡¶∞‡¶ø-‡¶è‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶®‡¶Æ‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶π‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç React ‡¶ï‡ßá ‡¶∞‡ßÅ‡¶ü DOM ‡¶®‡ßã‡¶° ‡¶•‡ßá‡¶ï‡ßá "‡¶¨‡¶ø‡¶ö‡ßç‡¶õ‡¶ø‡¶®‡ßç‡¶®" ‡¶ï‡¶∞‡¶¨‡ßá‡•§

* ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ `root.unmount` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá ‡¶è‡¶ï‡¶á ‡¶∞‡ßÅ‡¶ü‡ßá `root.render` ‡¶Ü‡¶∞ ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ‡•§ ‡¶Ü‡¶®‡¶Æ‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶∞‡ßÅ‡¶ü‡ßá `root.render` ‡¶ï‡¶≤‡ßá‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá "Cannot update an unmounted root" ‡¶è‡¶∞‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§

---

## ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ {/*usage*/}

### ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞-‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° HTML ‡¶è‡¶∞ hydrating {/*hydrating-server-rendered-html*/}

‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ HTML ‡¶Ø‡¶¶‡¶ø [`react-dom/server`](/reference/react-dom/client/createRoot) ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá ‡¶•‡¶æ‡¶ï‡ßá, ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá *hydrate* ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§

```js [[1, 3, "document.getElementById('root')"], [2, 3, "<App />"]]
import { hydrateRoot } from 'react-dom/client';

hydrateRoot(document.getElementById('root'), <App />);
```

‡¶è‡¶ü‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <CodeStep step={2}>React ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü</CodeStep> ‡¶¶‡¶ø‡ßü‡ßá <CodeStep step={1}>‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ DOM ‡¶®‡ßã‡¶°‡ßá‡¶∞</CodeStep> ‡¶≠‡¶ø‡¶§‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ HTML hydrate ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡ßá‡•§ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§, ‡¶è‡¶ü‡¶æ ‡¶Ü‡¶™‡¶®‡¶ø startup ‡¶è‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡¶¶‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶´‡ßç‡¶∞‡ßá‡¶Æ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡¶®, ‡¶∏‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶π‡ßü‡ßá ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶ï‡¶æ‡¶ú‡¶ü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡ßá‡•§

‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ hydrate ‡¶ï‡¶∞‡¶§‡ßá, React ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶§‡ßà‡¶∞‡ßÄ ‡¶π‡¶ì‡ßü‡¶æ HTML ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶≤‡¶ú‡¶ø‡¶ï "‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§" ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡ßá‡•§ Hydration ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶π‡¶ì‡ßü‡¶æ ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï HTML ‡¶∏‡ßç‡¶®‡ßç‡¶Ø‡¶æ‡¶™‡¶∂‡¶ü‡¶ï‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶≠‡¶æ‡¶¨‡ßá interactive ‡¶è‡¶ï‡¶ü‡¶æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá ‡¶Ø‡¶æ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶ö‡¶≤‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ 

<Sandpack>

```html public/index.html
<!--
  <div id="root">...</div> ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶¨ HTML ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü react-dom/server
  ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ <App /> ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§
-->
<div id="root"><h1>Hello, world!</h1><button>You clicked me <!-- -->0<!-- --> times</button></div>
```

```js src/index.js active
import './styles.css';
import { hydrateRoot } from 'react-dom/client';
import App from './App.js';

hydrateRoot(
  document.getElementById('root'),
  <App />
);
```

```js src/App.js
import { useState } from 'react';

export default function App() {
  return (
    <>
      <h1>Hello, world!</h1>
      <Counter />
    </>
  );
}

function Counter() {
  const [count, setCount] = useState(0);
  return (
    <button onClick={() => setCount(count + 1)}>
      You clicked me {count} times
    </button>
  );
}
```

</Sandpack>

‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ `hydrateRoot` ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶æ ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶® ‡¶π‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶®‡¶æ‡•§ ‡¶è‡¶∞ ‡¶™‡¶∞ ‡¶•‡ßá‡¶ï‡ßá React ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶®‡ßá‡¶∞ DOM ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá‡•§ UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶∞‡¶Ç [state ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞](/reference/react/useState) ‡¶ï‡¶∞‡¶¨‡ßá‡•§

<Pitfall>

‡¶è‡¶ü‡¶æ ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø `hydrateRoot` ‡¶è ‡¶Ø‡ßá React ‡¶ü‡ßç‡¶∞‡¶ø ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶õ‡ßá‡¶® ‡¶∏‡ßá‡¶ü‡¶æ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶Ø‡ßá‡¶Æ‡¶® ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡¶ø‡¶≤ **‡¶†‡¶ø‡¶ï ‡¶π‡ßÅ‡¶¨‡¶π‡ßÅ ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü** ‡¶¶‡¶ø‡¶¨‡ßá‡•§

‡¶è‡¶ü‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶∞‡ßÅ‡¶∞‡ßÄ‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶æ‡¶≠‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡ßã‡¶° ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ï‡ßç‡¶∑‡¶£ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶π‡¶ì‡ßü‡¶æ HTML ‡¶¶‡ßá‡¶ñ‡¶¨‡ßá‡•§ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶π‡¶ì‡ßü‡¶æ HTML ‡¶∏‡ßç‡¶®‡ßç‡¶Ø‡¶æ‡¶™‡¶∂‡¶ü‡ßá‡¶∞ ‡¶Ø‡ßá ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü ‡¶∏‡ßá‡¶ü‡¶æ‡¶∞ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶æ ‡¶≠‡ßç‡¶∞‡¶Æ ‡¶§‡ßà‡¶∞‡ßÄ ‡¶ï‡¶∞‡¶õ‡ßá‡•§ ‡¶π‡¶†‡¶æ‡ßé ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶≤‡ßá ‡¶∏‡ßá‡¶á ‡¶≠‡ßç‡¶∞‡¶Æ‡¶ü‡¶æ ‡¶≠‡ßá‡¶ô‡ßá ‡¶Ø‡¶æ‡ßü‡•§ ‡¶è‡¶á‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶Ü‡¶∞ ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶π‡¶ì‡ßü‡¶æ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶è‡¶ï‡¶á‡¶∞‡¶ï‡¶Æ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§

‡¶Ø‡ßá‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá hydration ‡¶è‡¶∞‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶¨‡ßá‡¶∂‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶§‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶π‡¶≤‡¶É

* ‡¶∞‡ßÅ‡¶ü ‡¶®‡ßã‡¶°‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶•‡¶æ‡¶ï‡¶æ React ‡¶è‡¶∞ ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã HTML ‡¶è‡¶∞ ‡¶Ü‡¶∂‡ßá ‡¶™‡¶æ‡¶∂‡ßá ‡¶•‡¶æ‡¶ï‡¶æ ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ whitespace (‡¶Ø‡ßá‡¶Æ‡¶® newline)‡•§
* ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶≤‡¶ú‡¶ø‡¶ï‡ßá `typeof window !== 'undefined'` ‡¶è‡¶∞ ‡¶Æ‡¶§ ‡¶ö‡ßá‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡•§
* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶≤‡¶ú‡¶ø‡¶ï‡ßá [`window.matchMedia`](https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia) ‡¶è‡¶∞ ‡¶Æ‡¶§ browser-only API ‡¶è‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡•§
* ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶Ü‡¶∞ ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡•§

React ‡¶ï‡¶ø‡¶õ‡ßÅ hydration ‡¶è‡¶∞‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶æ‡¶Æ‡¶≤‡ßá ‡¶ì‡¶†‡ßá, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ **‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶è‡¶ó‡ßÅ‡¶≤‡ßã‡¶ï‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶¨‡¶æ‡¶ó‡ßá‡¶∞ ‡¶Æ‡¶§‡¶á ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§** ‡¶Ø‡¶¶‡¶ø ‡¶∏‡¶¨ ‡¶†‡¶ø‡¶ï‡¶†‡¶æ‡¶ï ‡¶•‡¶æ‡¶ï‡ßá‡¶ì, ‡¶è‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ß‡ßÄ‡¶∞‡¶ó‡¶§‡¶ø‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡¶¨‡ßá; ‡¶Ü‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶ñ‡¶æ‡¶∞‡¶æ‡¶™ ‡¶Ø‡ßá‡¶ü‡¶æ ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá, ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶æ‡¶∞ ‡¶≠‡ßÅ‡¶≤ ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßü‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§

</Pitfall>

---

### ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ hydrating {/*hydrating-an-entire-document*/}

‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶∞‡ßÇ‡¶™‡ßá React ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ [`<html>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html) ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó‡¶∏‡¶π ‡¶™‡ßÅ‡¶∞‡ßã ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü JSX ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶É 

```js {3,13}
function App() {
  return (
    <html>
      <head>
        <meta charSet="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="/styles.css"></link>
        <title>My app</title>
      </head>
      <body>
        <Router />
      </body>
    </html>
  );
}
```

‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶°‡¶ï‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü hydrate ‡¶ï‡¶∞‡¶§‡ßá, `hydrateRoot` ‡¶è [`document`](https://developer.mozilla.org/en-US/docs/Web/API/Window/document) global ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶Ü‡¶∞‡ßç‡¶ó‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶®‡¶É

```js {4}
import { hydrateRoot } from 'react-dom/client';
import App from './App.js';

hydrateRoot(document, <App />);
```

---

### ‡¶Ö‡¶®‡¶ø‡¶¨‡¶æ‡¶∞‡ßç‡¶Ø hydrartion ‡¶Ö‡¶Æ‡¶ø‡¶≤‡ßá‡¶∞ ‡¶è‡¶∞‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶Ø‡ßá‡¶≠‡¶æ‡¶¨‡ßá {/*suppressing-unavoidable-hydration-mismatch-errors*/}

‡¶Ø‡¶¶‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶è‡¶ü‡ßç‡¶∞‡¶ø‡¶¨‡¶ø‡¶â‡¶ü ‡¶¨‡¶æ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶π‡ßü, ‡¶Ø‡ßá‡¶Æ‡¶® ‡¶è‡¶ï‡¶§‡¶æ ‡¶ü‡¶æ‡¶á‡¶Æ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø hydration ‡¶Ö‡¶Æ‡¶ø‡¶≤ ‡¶π‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá ‡¶Ø‡ßá ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡ßü ‡¶§‡¶æ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§

‡¶è‡¶ï‡¶ü‡¶æ ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá hydration ‡¶¨‡¶ø‡¶∑‡ßü‡¶ï ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡¶≤‡ßá, `suppressHydrationWarning={true}` ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡¶É

<Sandpack>

```html public/index.html
<!--
  <div id="root">...</div> ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶¨ HTML ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü react-dom/server
  ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ <App /> ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§
-->
<div id="root"><h1>Current Date: <!-- -->01/01/2020</h1></div>
```

```js src/index.js
import './styles.css';
import { hydrateRoot } from 'react-dom/client';
import App from './App.js';

hydrateRoot(document.getElementById('root'), <App />);
```

```js src/App.js active
export default function App() {
  return (
    <h1 suppressHydrationWarning={true}>
      Current Date: {new Date().toLocaleDateString()}
    </h1>
  );
}
```

</Sandpack>

‡¶è‡¶ü‡¶æ ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶ï ‡¶∏‡ßç‡¶§‡¶∞ ‡¶ó‡¶≠‡ßÄ‡¶∞‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá, ‡¶è‡¶¨‡¶Ç ‡¶è‡¶∞ ‡¶â‡¶¶‡ßç‡¶¶‡ßá‡¶∂‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶æ escape hatch ‡¶è‡¶∞ ‡¶Æ‡¶§ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶æ‡•§ ‡¶è‡¶∞ ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶è‡ßú‡¶ø‡ßü‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶®‡¶æ ‡¶è‡¶ü‡¶æ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶π‡ßü, React ‡¶è‡¶ï‡ßá ‡¶™‡ßç‡¶Ø‡¶æ‡¶ö ‡¶Ü‡¶™ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶¨‡ßá ‡¶®‡¶æ, ‡¶∏‡ßÅ‡¶§‡¶∞‡¶æ‡¶Ç ‡¶è‡¶ü‡¶æ ‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡¶§‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶ó ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Ö‡¶∏‡¶æ‡¶Æ‡¶æ‡¶û‡ßç‡¶ú‡¶∏‡ßç‡¶Ø‡¶™‡ßÇ‡¶∞‡ßç‡¶® ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§

---

### ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá ‡¶Ø‡ßá‡¶≠‡¶æ‡¶¨‡ßá {/*handling-different-client-and-server-content*/}

‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡¶¶‡¶ø ‡¶á‡¶ö‡ßç‡¶õ‡¶æ‡¶ï‡ßÉ‡¶§‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®, ‡¶Ü‡¶™‡¶®‡¶ø ‡¶¶‡ßÅ‡¶á ‡¶™‡¶æ‡¶∏‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶ö‡¶æ‡¶≤‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Ø‡ßá‡¶∏‡¶¨ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ü‡¶æ ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶≠‡¶æ‡¶¨‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá, ‡¶§‡¶æ‡¶∞‡¶æ `isClient` ‡¶è‡¶∞ ‡¶Æ‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø [state variable](/reference/react/useState) ‡¶∞‡¶ø‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá, ‡¶Ø‡ßá‡¶ü‡¶æ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ï‡¶ü‡¶æ [Effect](/reference/react/useEffect) ‡¶è `true` ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡¶É

<Sandpack>

```html public/index.html
<!--
  <div id="root">...</div> ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶¨ HTML ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü react-dom/server
  ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ <App /> ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§
-->
<div id="root"><h1>Is Server</h1></div>
```

```js src/index.js
import './styles.css';
import { hydrateRoot } from 'react-dom/client';
import App from './App.js';

hydrateRoot(document.getElementById('root'), <App />);
```

```js src/App.js active
import { useState, useEffect } from "react";

export default function App() {
  const [isClient, setIsClient] = useState(false);

  useEffect(() => {
    setIsClient(true);
  }, []);

  return (
    <h1>
      {isClient ? 'Is Client' : 'Is Server'}
    </h1>
  );
}
```

</Sandpack>

‡¶è‡¶á ‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∏ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Æ‡¶§ ‡¶è‡¶ï‡¶á ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá, ‡¶Ö‡¶Æ‡¶ø‡¶≤ ‡¶è‡ßú‡¶ø‡ßü‡ßá ‡¶ó‡¶ø‡ßü‡ßá, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ hydration ‡¶è‡¶∞ ‡¶†‡¶ø‡¶ï ‡¶™‡¶∞ ‡¶∏‡¶ø‡¶Ç‡¶ï‡ßç‡¶∞‡ßã‡¶®‡¶æ‡¶∏‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡¶æ‡¶∏ ‡¶π‡¶¨‡ßá‡•§

<Pitfall>

‡¶è‡¶á ‡¶™‡¶®‡ßç‡¶•‡¶æ‡ßü hydration ‡¶ß‡ßÄ‡¶∞ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶¶‡ßÅ‡¶á ‡¶¨‡¶æ‡¶∞ ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶π‡ßü‡•§ ‡¶Ø‡ßá‡¶∏‡¶¨ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ß‡ßÄ‡¶∞ ‡¶ó‡¶§‡¶ø‡¶∞ ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶è‡¶ü‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá ‡¶ñ‡ßá‡ßü‡¶æ‡¶≤ ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶®‡•§ ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï HTML ‡¶è‡¶∞ ‡¶ö‡ßá‡ßü‡ßá ‡¶ú‡¶æ‡¶≠‡¶æ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ‡¶ú‡¶®‡¶ï ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá, ‡¶∏‡ßÅ‡¶§‡¶∞‡¶æ‡¶Ç hydration ‡¶è‡¶∞ ‡¶™‡¶∞ ‡¶™‡¶∞ ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßã‡¶® UI ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶ø‡¶∞‡¶ï‡ßç‡¶§‡¶ø‡¶ï‡¶∞ ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§

</Pitfall>

---

### ‡¶è‡¶ï‡¶ü‡¶ø hydrated root ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶Ø‡ßá‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü {/*updating-a-hydrated-root-component*/}

‡¶∞‡ßÅ‡¶ü‡ßá‡¶∞ hydrating ‡¶∂‡ßá‡¶∑ ‡¶π‡¶¨‡¶æ‡¶∞ ‡¶™‡¶∞‡ßá, ‡¶∞‡ßÅ‡¶ü React ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶™‡¶®‡¶ø [`root.render`](#root-render) ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ **[`createRoot`](/reference/react-dom/client/createRoot) ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ö‡¶Æ‡¶ø‡¶≤ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ø‡ßá, ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶è‡¶ü‡¶æ ‡¶ï‡¶∞‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á, ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶á‡¶§‡ßã‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá‡¶á ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü HTML ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§**

Hydration ‡¶è‡¶∞ ‡¶™‡¶∞‡ßá ‡¶ï‡ßã‡¶® ‡¶è‡¶ï ‡¶∏‡¶Æ‡ßü‡ßá ‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶™‡¶®‡¶ø  `root.render` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßá‡¶®, ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶¨‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ì‡ßü‡¶æ ‡¶ü‡ßç‡¶∞‡¶ø‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡ßç‡¶∞‡¶ø‡¶∞ ‡¶ó‡¶†‡¶® ‡¶ï‡¶æ‡¶†‡¶æ‡¶Æ‡ßã ‡¶Æ‡¶ø‡¶≤‡ßá ‡¶Ø‡¶æ‡ßü, React [state ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶¨‡ßá‡•§](/learn/preserving-and-resetting-state) ‡¶ñ‡ßá‡ßü‡¶æ‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶®‡¶™‡ßÅ‡¶ü‡ßá ‡¶ü‡¶æ‡¶á ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶∞‡¶õ‡ßá‡¶®, ‡¶Ø‡¶æ‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶• ‡¶è‡¶á ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá ‡¶¨‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶∞ ‡¶π‡¶ì‡ßü‡¶æ `render` ‡¶ï‡¶≤ ‡¶ß‡ßç‡¶¨‡¶Ç‡¶∏‡¶æ‡¶§‡ßç‡¶Æ‡¶ï ‡¶®‡¶æ‡¶É

<Sandpack>

```html public/index.html
<!--
  <div id="root">...</div> ‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶¨ HTML ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü react-dom/server
  ‡¶¶‡ßç‡¶¨‡¶æ‡¶∞‡¶æ <App /> ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§
-->
<div id="root"><h1>Hello, world! <!-- -->0</h1><input placeholder="Type something here"/></div>
```

```js src/index.js active
import { hydrateRoot } from 'react-dom/client';
import './styles.css';
import App from './App.js';

const root = hydrateRoot(
  document.getElementById('root'),
  <App counter={0} />
);

let i = 0;
setInterval(() => {
  root.render(<App counter={i} />);
  i++;
}, 1000);
```

```js src/App.js
export default function App({counter}) {
  return (
    <>
      <h1>Hello, world! {counter}</h1>
      <input placeholder="Type something here" />
    </>
  );
}
```

</Sandpack>

<<<<<<< HEAD
‡¶è‡¶ï‡¶ü‡¶æ hydrated ‡¶∞‡ßÅ‡¶ü‡ßá  [`root.render`](#root-render) ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶∑‡ßü‡¶ü‡¶æ ‡¶¨‡¶ø‡¶∞‡¶≤‡•§ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§, ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶∞ ‡¶¨‡¶¶‡¶≤‡ßá ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶ï‡ßã‡¶® ‡¶è‡¶ï‡¶ü‡¶ø‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá [state ‡¶Ü‡¶™‡¶°‡ßá‡¶ü](/reference/react/useState) ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§ 
=======
It is uncommon to call [`root.render`](#root-render) on a hydrated root. Usually, you'll [update state](/reference/react/useState) inside one of the components instead.

### Show a dialog for uncaught errors {/*show-a-dialog-for-uncaught-errors*/}

By default, React will log all uncaught errors to the console. To implement your own error reporting, you can provide the optional `onUncaughtError` root option:

```js [[1, 7, "onUncaughtError"], [2, 7, "error", 1], [3, 7, "errorInfo"], [4, 11, "componentStack"]]
import { hydrateRoot } from 'react-dom/client';

const root = hydrateRoot(
  document.getElementById('root'),
  <App />,
  {
    onUncaughtError: (error, errorInfo) => {
      console.error(
        'Uncaught error',
        error,
        errorInfo.componentStack
      );
    }
  }
);
root.render(<App />);
```

The <CodeStep step={1}>onUncaughtError</CodeStep> option is a function called with two arguments:

1. The <CodeStep step={2}>error</CodeStep> that was thrown.
2. An <CodeStep step={3}>errorInfo</CodeStep> object that contains the <CodeStep step={4}>componentStack</CodeStep> of the error.

You can use the `onUncaughtError` root option to display error dialogs:

<Sandpack>

```html public/index.html hidden
<!DOCTYPE html>
<html>
<head>
  <title>My app</title>
</head>
<body>
<!--
  Error dialog in raw HTML
  since an error in the React app may crash.
-->
<div id="error-dialog" class="hidden">
  <h1 id="error-title" class="text-red"></h1>
  <h3>
    <pre id="error-message"></pre>
  </h3>
  <p>
    <pre id="error-body"></pre>
  </p>
  <h4 class="-mb-20">This error occurred at:</h4>
  <pre id="error-component-stack" class="nowrap"></pre>
  <h4 class="mb-0">Call stack:</h4>
  <pre id="error-stack" class="nowrap"></pre>
  <div id="error-cause">
    <h4 class="mb-0">Caused by:</h4>
    <pre id="error-cause-message"></pre>
    <pre id="error-cause-stack" class="nowrap"></pre>
  </div>
  <button
    id="error-close"
    class="mb-10"
    onclick="document.getElementById('error-dialog').classList.add('hidden')"
  >
    Close
  </button>
  <h3 id="error-not-dismissible">This error is not dismissible.</h3>
</div>
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><div><span>This error shows the error dialog:</span><button>Throw error</button></div></div>
</body>
</html>
```

```css src/styles.css active
label, button { display: block; margin-bottom: 20px; }
html, body { min-height: 300px; }

#error-dialog {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: white;
  padding: 15px;
  opacity: 0.9;
  text-wrap: wrap;
  overflow: scroll;
}

.text-red {
  color: red;
}

.-mb-20 {
  margin-bottom: -20px;
}

.mb-0 {
  margin-bottom: 0;
}

.mb-10 {
  margin-bottom: 10px;
}

pre {
  text-wrap: wrap;
}

pre.nowrap {
  text-wrap: nowrap;
}

.hidden {
 display: none;  
}
```

```js src/reportError.js hidden
function reportError({ title, error, componentStack, dismissable }) {
  const errorDialog = document.getElementById("error-dialog");
  const errorTitle = document.getElementById("error-title");
  const errorMessage = document.getElementById("error-message");
  const errorBody = document.getElementById("error-body");
  const errorComponentStack = document.getElementById("error-component-stack");
  const errorStack = document.getElementById("error-stack");
  const errorClose = document.getElementById("error-close");
  const errorCause = document.getElementById("error-cause");
  const errorCauseMessage = document.getElementById("error-cause-message");
  const errorCauseStack = document.getElementById("error-cause-stack");
  const errorNotDismissible = document.getElementById("error-not-dismissible");
  
  // Set the title
  errorTitle.innerText = title;
  
  // Display error message and body
  const [heading, body] = error.message.split(/\n(.*)/s);
  errorMessage.innerText = heading;
  if (body) {
    errorBody.innerText = body;
  } else {
    errorBody.innerText = '';
  }

  // Display component stack
  errorComponentStack.innerText = componentStack;

  // Display the call stack
  // Since we already displayed the message, strip it, and the first Error: line.
  errorStack.innerText = error.stack.replace(error.message, '').split(/\n(.*)/s)[1];
  
  // Display the cause, if available
  if (error.cause) {
    errorCauseMessage.innerText = error.cause.message;
    errorCauseStack.innerText = error.cause.stack;
    errorCause.classList.remove('hidden');
  } else {
    errorCause.classList.add('hidden');
  }
  // Display the close button, if dismissible
  if (dismissable) {
    errorNotDismissible.classList.add('hidden');
    errorClose.classList.remove("hidden");
  } else {
    errorNotDismissible.classList.remove('hidden');
    errorClose.classList.add("hidden");
  }
  
  // Show the dialog
  errorDialog.classList.remove("hidden");
}

export function reportCaughtError({error, cause, componentStack}) {
  reportError({ title: "Caught Error", error, componentStack,  dismissable: true});
}

export function reportUncaughtError({error, cause, componentStack}) {
  reportError({ title: "Uncaught Error", error, componentStack, dismissable: false });
}

export function reportRecoverableError({error, cause, componentStack}) {
  reportError({ title: "Recoverable Error", error, componentStack,  dismissable: true });
}
```

```js src/index.js active
import { hydrateRoot } from "react-dom/client";
import App from "./App.js";
import {reportUncaughtError} from "./reportError";
import "./styles.css";
import {renderToString} from 'react-dom/server';

const container = document.getElementById("root");
const root = hydrateRoot(container, <App />, {
  onUncaughtError: (error, errorInfo) => {
    if (error.message !== 'Known error') {
      reportUncaughtError({
        error,
        componentStack: errorInfo.componentStack
      });
    }
  }
});
```

```js src/App.js
import { useState } from 'react';

export default function App() {
  const [throwError, setThrowError] = useState(false);
  
  if (throwError) {
    foo.bar = 'baz';
  }
  
  return (
    <div>
      <span>This error shows the error dialog:</span>
      <button onClick={() => setThrowError(true)}>
        Throw error
      </button>
    </div>
  );
}
```

</Sandpack>


### Displaying Error Boundary errors {/*displaying-error-boundary-errors*/}

By default, React will log all errors caught by an Error Boundary to `console.error`. To override this behavior, you can provide the optional `onCaughtError` root option for errors caught by an [Error Boundary](/reference/react/Component#catching-rendering-errors-with-an-error-boundary):

```js [[1, 7, "onCaughtError"], [2, 7, "error", 1], [3, 7, "errorInfo"], [4, 11, "componentStack"]]
import { hydrateRoot } from 'react-dom/client';

const root = hydrateRoot(
  document.getElementById('root'),
  <App />,
  {
    onCaughtError: (error, errorInfo) => {
      console.error(
        'Caught error',
        error,
        errorInfo.componentStack
      );
    }
  }
);
root.render(<App />);
```

The <CodeStep step={1}>onCaughtError</CodeStep> option is a function called with two arguments:

1. The <CodeStep step={2}>error</CodeStep> that was caught by the boundary.
2. An <CodeStep step={3}>errorInfo</CodeStep> object that contains the <CodeStep step={4}>componentStack</CodeStep> of the error.

You can use the `onCaughtError` root option to display error dialogs or filter known errors from logging:

<Sandpack>

```html public/index.html hidden
<!DOCTYPE html>
<html>
<head>
  <title>My app</title>
</head>
<body>
<!--
  Error dialog in raw HTML
  since an error in the React app may crash.
-->
<div id="error-dialog" class="hidden">
  <h1 id="error-title" class="text-red"></h1>
  <h3>
    <pre id="error-message"></pre>
  </h3>
  <p>
    <pre id="error-body"></pre>
  </p>
  <h4 class="-mb-20">This error occurred at:</h4>
  <pre id="error-component-stack" class="nowrap"></pre>
  <h4 class="mb-0">Call stack:</h4>
  <pre id="error-stack" class="nowrap"></pre>
  <div id="error-cause">
    <h4 class="mb-0">Caused by:</h4>
    <pre id="error-cause-message"></pre>
    <pre id="error-cause-stack" class="nowrap"></pre>
  </div>
  <button
    id="error-close"
    class="mb-10"
    onclick="document.getElementById('error-dialog').classList.add('hidden')"
  >
    Close
  </button>
  <h3 id="error-not-dismissible">This error is not dismissible.</h3>
</div>
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><span>This error will not show the error dialog:</span><button>Throw known error</button><span>This error will show the error dialog:</span><button>Throw unknown error</button></div>
</body>
</html>
```

```css src/styles.css active
label, button { display: block; margin-bottom: 20px; }
html, body { min-height: 300px; }

#error-dialog {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: white;
  padding: 15px;
  opacity: 0.9;
  text-wrap: wrap;
  overflow: scroll;
}

.text-red {
  color: red;
}

.-mb-20 {
  margin-bottom: -20px;
}

.mb-0 {
  margin-bottom: 0;
}

.mb-10 {
  margin-bottom: 10px;
}

pre {
  text-wrap: wrap;
}

pre.nowrap {
  text-wrap: nowrap;
}

.hidden {
 display: none;  
}
```

```js src/reportError.js hidden
function reportError({ title, error, componentStack, dismissable }) {
  const errorDialog = document.getElementById("error-dialog");
  const errorTitle = document.getElementById("error-title");
  const errorMessage = document.getElementById("error-message");
  const errorBody = document.getElementById("error-body");
  const errorComponentStack = document.getElementById("error-component-stack");
  const errorStack = document.getElementById("error-stack");
  const errorClose = document.getElementById("error-close");
  const errorCause = document.getElementById("error-cause");
  const errorCauseMessage = document.getElementById("error-cause-message");
  const errorCauseStack = document.getElementById("error-cause-stack");
  const errorNotDismissible = document.getElementById("error-not-dismissible");
  
  // Set the title
  errorTitle.innerText = title;
  
  // Display error message and body
  const [heading, body] = error.message.split(/\n(.*)/s);
  errorMessage.innerText = heading;
  if (body) {
    errorBody.innerText = body;
  } else {
    errorBody.innerText = '';
  }

  // Display component stack
  errorComponentStack.innerText = componentStack;

  // Display the call stack
  // Since we already displayed the message, strip it, and the first Error: line.
  errorStack.innerText = error.stack.replace(error.message, '').split(/\n(.*)/s)[1];
  
  // Display the cause, if available
  if (error.cause) {
    errorCauseMessage.innerText = error.cause.message;
    errorCauseStack.innerText = error.cause.stack;
    errorCause.classList.remove('hidden');
  } else {
    errorCause.classList.add('hidden');
  }
  // Display the close button, if dismissible
  if (dismissable) {
    errorNotDismissible.classList.add('hidden');
    errorClose.classList.remove("hidden");
  } else {
    errorNotDismissible.classList.remove('hidden');
    errorClose.classList.add("hidden");
  }
  
  // Show the dialog
  errorDialog.classList.remove("hidden");
}

export function reportCaughtError({error, cause, componentStack}) {
  reportError({ title: "Caught Error", error, componentStack,  dismissable: true});
}

export function reportUncaughtError({error, cause, componentStack}) {
  reportError({ title: "Uncaught Error", error, componentStack, dismissable: false });
}

export function reportRecoverableError({error, cause, componentStack}) {
  reportError({ title: "Recoverable Error", error, componentStack,  dismissable: true });
}
```

```js src/index.js active
import { hydrateRoot } from "react-dom/client";
import App from "./App.js";
import {reportCaughtError} from "./reportError";
import "./styles.css";

const container = document.getElementById("root");
const root = hydrateRoot(container, <App />, {
  onCaughtError: (error, errorInfo) => {
    if (error.message !== 'Known error') {
      reportCaughtError({
        error,
        componentStack: errorInfo.componentStack
      });
    }
  }
});
```

```js src/App.js
import { useState } from 'react';
import { ErrorBoundary } from "react-error-boundary";

export default function App() {
  const [error, setError] = useState(null);
  
  function handleUnknown() {
    setError("unknown");
  }

  function handleKnown() {
    setError("known");
  }
  
  return (
    <>
      <ErrorBoundary
        fallbackRender={fallbackRender}
        onReset={(details) => {
          setError(null);
        }}
      >
        {error != null && <Throw error={error} />}
        <span>This error will not show the error dialog:</span>
        <button onClick={handleKnown}>
          Throw known error
        </button>
        <span>This error will show the error dialog:</span>
        <button onClick={handleUnknown}>
          Throw unknown error
        </button>
      </ErrorBoundary>
      
    </>
  );
}

function fallbackRender({ resetErrorBoundary }) {
  return (
    <div role="alert">
      <h3>Error Boundary</h3>
      <p>Something went wrong.</p>
      <button onClick={resetErrorBoundary}>Reset</button>
    </div>
  );
}

function Throw({error}) {
  if (error === "known") {
    throw new Error('Known error')
  } else {
    foo.bar = 'baz';
  }
}
```

```json package.json hidden
{
  "dependencies": {
    "react": "19.0.0-rc-3edc000d-20240926",
    "react-dom": "19.0.0-rc-3edc000d-20240926",
    "react-scripts": "^5.0.0",
    "react-error-boundary": "4.0.3"
  },
  "main": "/index.js"
}
```

</Sandpack>

### Show a dialog for recoverable hydration mismatch errors {/*show-a-dialog-for-recoverable-hydration-mismatch-errors*/}

When React encounters a hydration mismatch, it will automatically attempt to recover by rendering on the client. By default, React will log hydration mismatch errors to `console.error`. To override this behavior, you can provide the optional `onRecoverableError` root option:

```js [[1, 7, "onRecoverableError"], [2, 7, "error", 1], [3, 11, "error.cause", 1], [4, 7, "errorInfo"], [5, 12, "componentStack"]]
import { hydrateRoot } from 'react-dom/client';

const root = hydrateRoot(
  document.getElementById('root'),
  <App />,
  {
    onRecoverableError: (error, errorInfo) => {
      console.error(
        'Caught error',
        error,
        error.cause,
        errorInfo.componentStack
      );
    }
  }
);
```

The <CodeStep step={1}>onRecoverableError</CodeStep> option is a function called with two arguments:

1. The <CodeStep step={2}>error</CodeStep> React throws. Some errors may include the original cause as <CodeStep step={3}>error.cause</CodeStep>.
2. An <CodeStep step={4}>errorInfo</CodeStep> object that contains the <CodeStep step={5}>componentStack</CodeStep> of the error.

You can use the `onRecoverableError` root option to display error dialogs for hydration mismatches:

<Sandpack>

```html public/index.html hidden
<!DOCTYPE html>
<html>
<head>
  <title>My app</title>
</head>
<body>
<!--
  Error dialog in raw HTML
  since an error in the React app may crash.
-->
<div id="error-dialog" class="hidden">
  <h1 id="error-title" class="text-red"></h1>
  <h3>
    <pre id="error-message"></pre>
  </h3>
  <p>
    <pre id="error-body"></pre>
  </p>
  <h4 class="-mb-20">This error occurred at:</h4>
  <pre id="error-component-stack" class="nowrap"></pre>
  <h4 class="mb-0">Call stack:</h4>
  <pre id="error-stack" class="nowrap"></pre>
  <div id="error-cause">
    <h4 class="mb-0">Caused by:</h4>
    <pre id="error-cause-message"></pre>
    <pre id="error-cause-stack" class="nowrap"></pre>
  </div>
  <button
    id="error-close"
    class="mb-10"
    onclick="document.getElementById('error-dialog').classList.add('hidden')"
  >
    Close
  </button>
  <h3 id="error-not-dismissible">This error is not dismissible.</h3>
</div>
<!--
  HTML content inside <div id="root">...</div>
  was generated from App by react-dom/server.
-->
<div id="root"><span>Server</span></div>
</body>
</html>
```

```css src/styles.css active
label, button { display: block; margin-bottom: 20px; }
html, body { min-height: 300px; }

#error-dialog {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: white;
  padding: 15px;
  opacity: 0.9;
  text-wrap: wrap;
  overflow: scroll;
}

.text-red {
  color: red;
}

.-mb-20 {
  margin-bottom: -20px;
}

.mb-0 {
  margin-bottom: 0;
}

.mb-10 {
  margin-bottom: 10px;
}

pre {
  text-wrap: wrap;
}

pre.nowrap {
  text-wrap: nowrap;
}

.hidden {
 display: none;  
}
```

```js src/reportError.js hidden
function reportError({ title, error, componentStack, dismissable }) {
  const errorDialog = document.getElementById("error-dialog");
  const errorTitle = document.getElementById("error-title");
  const errorMessage = document.getElementById("error-message");
  const errorBody = document.getElementById("error-body");
  const errorComponentStack = document.getElementById("error-component-stack");
  const errorStack = document.getElementById("error-stack");
  const errorClose = document.getElementById("error-close");
  const errorCause = document.getElementById("error-cause");
  const errorCauseMessage = document.getElementById("error-cause-message");
  const errorCauseStack = document.getElementById("error-cause-stack");
  const errorNotDismissible = document.getElementById("error-not-dismissible");
  
  // Set the title
  errorTitle.innerText = title;
  
  // Display error message and body
  const [heading, body] = error.message.split(/\n(.*)/s);
  errorMessage.innerText = heading;
  if (body) {
    errorBody.innerText = body;
  } else {
    errorBody.innerText = '';
  }

  // Display component stack
  errorComponentStack.innerText = componentStack;

  // Display the call stack
  // Since we already displayed the message, strip it, and the first Error: line.
  errorStack.innerText = error.stack.replace(error.message, '').split(/\n(.*)/s)[1];
  
  // Display the cause, if available
  if (error.cause) {
    errorCauseMessage.innerText = error.cause.message;
    errorCauseStack.innerText = error.cause.stack;
    errorCause.classList.remove('hidden');
  } else {
    errorCause.classList.add('hidden');
  }
  // Display the close button, if dismissible
  if (dismissable) {
    errorNotDismissible.classList.add('hidden');
    errorClose.classList.remove("hidden");
  } else {
    errorNotDismissible.classList.remove('hidden');
    errorClose.classList.add("hidden");
  }
  
  // Show the dialog
  errorDialog.classList.remove("hidden");
}

export function reportCaughtError({error, cause, componentStack}) {
  reportError({ title: "Caught Error", error, componentStack,  dismissable: true});
}

export function reportUncaughtError({error, cause, componentStack}) {
  reportError({ title: "Uncaught Error", error, componentStack, dismissable: false });
}

export function reportRecoverableError({error, cause, componentStack}) {
  reportError({ title: "Recoverable Error", error, componentStack,  dismissable: true });
}
```

```js src/index.js active
import { hydrateRoot } from "react-dom/client";
import App from "./App.js";
import {reportRecoverableError} from "./reportError";
import "./styles.css";

const container = document.getElementById("root");
const root = hydrateRoot(container, <App />, {
  onRecoverableError: (error, errorInfo) => {
    reportRecoverableError({
      error,
      cause: error.cause,
      componentStack: errorInfo.componentStack
    });
  }
});
```

```js src/App.js
import { useState } from 'react';
import { ErrorBoundary } from "react-error-boundary";

export default function App() {
  const [error, setError] = useState(null);
  
  function handleUnknown() {
    setError("unknown");
  }

  function handleKnown() {
    setError("known");
  }
  
  return (
    <span>{typeof window !== 'undefined' ? 'Client' : 'Server'}</span>
  );
}

function fallbackRender({ resetErrorBoundary }) {
  return (
    <div role="alert">
      <h3>Error Boundary</h3>
      <p>Something went wrong.</p>
      <button onClick={resetErrorBoundary}>Reset</button>
    </div>
  );
}

function Throw({error}) {
  if (error === "known") {
    throw new Error('Known error')
  } else {
    foo.bar = 'baz';
  }
}
```

```json package.json hidden
{
  "dependencies": {
    "react": "19.0.0-rc-3edc000d-20240926",
    "react-dom": "19.0.0-rc-3edc000d-20240926",
    "react-scripts": "^5.0.0",
    "react-error-boundary": "4.0.3"
  },
  "main": "/index.js"
}
```

</Sandpack>

## Troubleshooting {/*troubleshooting*/}


### I'm getting an error: "You passed a second argument to root.render" {/*im-getting-an-error-you-passed-a-second-argument-to-root-render*/}

A common mistake is to pass the options for `hydrateRoot` to `root.render(...)`:

<ConsoleBlock level="error">

Warning: You passed a second argument to root.render(...) but it only accepts one argument.

</ConsoleBlock>

To fix, pass the root options to `hydrateRoot(...)`, not `root.render(...)`:
```js {2,5}
// üö© Wrong: root.render only takes one argument.
root.render(App, {onUncaughtError});

// ‚úÖ Correct: pass options to createRoot.
const root = hydrateRoot(container, <App />, {onUncaughtError});
```
>>>>>>> 6fc98fffdaad3b84e6093d1eb8def8f2cedeee16
